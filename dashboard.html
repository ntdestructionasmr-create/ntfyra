<!DOCTYPE html>
<html>
<head>
  <title>NTFYRA Dashboard</title>
  <link rel="stylesheet" href="style.css">

  <style>
    @media print {
      body * { visibility: hidden; }
      #dietSection, #dietSection * {
        visibility: visible;
      }
      #dietSection {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
      }
    }
  </style>
</head>
<body>

  <div class="container">

    <div class="brand">
      <h1>NTFYRA</h1>
      <p class="subtitle">Smart Fitness System</p>
    </div>

    <div class="section">
      <h3>üèãÔ∏è Today‚Äôs Workout</h3>
      <p id="workoutPlan"></p>
    </div>

    <div class="section" id="dietSection">
      <h3>üçΩÔ∏è Diet Plan</h3>
      <div id="dietPlan"></div>
    </div>

    <button class="pdf-btn" onclick="window.print()">Download Diet PDF</button>

    <div class="section">
      <h3>üìÖ Weekly Workout Plan</h3>
      <ul id="weeklyPlan"></ul>
    </div>

    <div class="section">
      <h3>üìà Progress Tracker</h3>
      <input type="number" id="progressWeight" placeholder="Enter current weight">
      <button onclick="saveProgress()">Save Progress</button>
      <ul id="progressList"></ul>
    </div>

    <a href="index.html">‚Üê Back to Home</a>
  </div>

  <script>
    const weight = Number(localStorage.getItem("weight"));
    const goal = localStorage.getItem("goal");
    const workout = localStorage.getItem("workout");

    document.getElementById("workoutPlan").innerText =
      workout === "home" ? "Home workout ‚Äì Pushups, Squats, Plank"
      : workout === "gym" ? "Gym workout ‚Äì Chest, Back, Legs"
      : "Mixed workout ‚Äì Home + Gym";

    let calories = goal === "gain" ? weight * 38 :
                    goal === "muscle" ? weight * 33 :
                    weight * 29;

    let protein = goal === "gain" ? weight * 1.6 :
                  goal === "muscle" ? weight * 2 :
                  weight * 1.5;

    document.getElementById("dietPlan").innerHTML = `
      <p><b>Calories:</b> ${calories} kcal</p>
      <p><b>Protein:</b> ${protein} g</p>
      <ul>
        <li>Breakfast: Eggs / Paneer + Chapati</li>
        <li>Lunch: Rice + Dal / Chicken</li>
        <li>Snack: Banana + Peanuts</li>
        <li>Dinner: Chapati + Eggs / Paneer</li>
      </ul>
    `;

    const weeklyPlan = document.getElementById("weeklyPlan");
    const plans = workout === "home" ? [
      "Mon Upper Body", "Tue Lower Body", "Wed Rest",
      "Thu Strength", "Fri Full Body", "Sat Cardio", "Sun Rest"
    ] : workout === "gym" ? [
      "Mon Chest", "Tue Back", "Wed Legs",
      "Thu Shoulders", "Fri Full Body", "Sat Cardio", "Sun Rest"
    ] : [
      "Mon Gym Chest", "Tue Home Legs", "Wed Rest",
      "Thu Gym Back", "Fri Home Full", "Sat Cardio", "Sun Rest"
    ];

    plans.forEach(d => {
      const li = document.createElement("li");
      li.innerText = d;
      weeklyPlan.appendChild(li);
    });

    const progressList = document.getElementById("progressList");

    function saveProgress() {
      const w = document.getElementById("progressWeight").value;
      if (!w) return;

      let p = JSON.parse(localStorage.getItem("progress")) || [];
      p.push({ date: new Date().toLocaleDateString(), weight: w });
      localStorage.setItem("progress", JSON.stringify(p));
      document.getElementById("progressWeight").value = "";
      renderProgress();
    }

    function renderProgress() {
      progressList.innerHTML = "";
      (JSON.parse(localStorage.getItem("progress")) || []).forEach(e => {
        const li = document.createElement("li");
        li.innerText = `${e.date} ‚Äì ${e.weight} kg`;
        progressList.appendChild(li);
      });
    }

    renderProgress();
  </script>

</body>
</html>
