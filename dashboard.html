<!DOCTYPE html>
<html>
<head>
  <title>NTFYRA | Cyber Fitness Console</title>
  <link rel="stylesheet" href="style.css">

  <style>
    @media print {
      body * { visibility: hidden; }
      #dietSection, #dietSection * {
        visibility: visible;
      }
      #dietSection {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
      }
    }
  </style>
</head>
<body>

  <div class="container">

    <div class="brand">
      <h1>NTFYRA</h1>
      <p class="subtitle">CYBER FITNESS CONTROL SYSTEM</p>
    </div>

    <div class="terminal">
      >> User authenticated  
      <br>>> Fitness protocol loaded  
    </div>

    <div class="section">
      <h3>üèãÔ∏è TODAY MODULE</h3>
      <p id="workoutPlan"></p>
    </div>

    <div class="section" id="dietSection">
      <h3>üçΩÔ∏è NUTRITION PROTOCOL</h3>
      <div id="dietPlan"></div>
    </div>

    <button class="pdf-btn" onclick="window.print()">‚¨á EXPORT NUTRITION DATA</button>

    <div class="section">
      <h3>üìÖ WEEKLY TRAINING MATRIX</h3>
      <ul id="weeklyPlan"></ul>
    </div>

    <div class="section">
      <h3>üìà BODY STATUS LOG</h3>
      <input type="number" id="progressWeight" placeholder="Enter current weight">
      <button onclick="saveProgress()">SAVE LOG</button>
      <ul id="progressList"></ul>
    </div>

    <a href="index.html">‚Üê EXIT CONSOLE</a>
  </div>

  <script>
    const weight = Number(localStorage.getItem("weight"));
    const goal = localStorage.getItem("goal");
    const workout = localStorage.getItem("workout");

    /* WORKOUT */
    document.getElementById("workoutPlan").innerText =
      workout === "home" ? "HOME MODE ‚Üí Pushups | Squats | Plank"
      : workout === "gym" ? "GYM MODE ‚Üí Chest | Back | Legs"
      : "HYBRID MODE ‚Üí Home + Gym";

    /* DIET */
    let calories = goal === "gain" ? weight * 38 :
                    goal === "muscle" ? weight * 33 :
                    weight * 29;

    let protein = goal === "gain" ? weight * 1.6 :
                  goal === "muscle" ? weight * 2 :
                  weight * 1.5;

    document.getElementById("dietPlan").innerHTML = `
      <p>> Energy Allocation: <b>${calories} kcal</b></p>
      <p>> Protein Target: <b>${protein} g</b></p>
      <ul>
        <li>Breakfast ‚Üí Eggs / Paneer + Chapati</li>
        <li>Lunch ‚Üí Rice + Dal / Chicken</li>
        <li>Snack ‚Üí Banana + Peanuts</li>
        <li>Dinner ‚Üí Chapati + Eggs / Paneer</li>
      </ul>
      <p class="terminal">Generated by NTFYRA AI CORE</p>
    `;

    /* WEEKLY */
    const weeklyPlan = document.getElementById("weeklyPlan");
    const plans = workout === "home" ? [
      "Mon ‚Üí Upper Body",
      "Tue ‚Üí Lower Body",
      "Wed ‚Üí Recovery",
      "Thu ‚Üí Strength",
      "Fri ‚Üí Full Body",
      "Sat ‚Üí Cardio",
      "Sun ‚Üí Rest"
    ] : workout === "gym" ? [
      "Mon ‚Üí Chest",
      "Tue ‚Üí Back",
      "Wed ‚Üí Legs",
      "Thu ‚Üí Shoulders",
      "Fri ‚Üí Full Body",
      "Sat ‚Üí Cardio",
      "Sun ‚Üí Rest"
    ] : [
      "Mon ‚Üí Gym Chest",
      "Tue ‚Üí Home Legs",
      "Wed ‚Üí Recovery",
      "Thu ‚Üí Gym Back",
      "Fri ‚Üí Home Full",
      "Sat ‚Üí Cardio",
      "Sun ‚Üí Rest"
    ];

    plans.forEach(d => {
      const li = document.createElement("li");
      li.innerText = d;
      weeklyPlan.appendChild(li);
    });

    /* PROGRESS */
    const progressList = document.getElementById("progressList");

    function saveProgress() {
      const w = document.getElementById("progressWeight").value;
      if (!w) return;

      let p = JSON.parse(localStorage.getItem("progress")) || [];
      p.push({ date: new Date().toLocaleDateString(), weight: w });
      localStorage.setItem("progress", JSON.stringify(p));
      document.getElementById("progressWeight").value = "";
      renderProgress();
    }

    function renderProgress() {
      progressList.innerHTML = "";
      (JSON.parse(localStorage.getItem("progress")) || []).forEach(e => {
        const li = document.createElement("li");
        li.innerText = `${e.date} ‚Üí ${e.weight} kg`;
        progressList.appendChild(li);
      });
    }

    renderProgress();
  </script>

</body>
</html>
